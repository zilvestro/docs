---
title: "Create Commission"
api: "POST /v1/commissions"
description: "Create a new commission transaction manually"
---

## Body Parameters

### Required Parameters

<ParamField body="referralId" type="string" required>
  The unique identifier of the referral this commission is associated with. The referral must belong to your team.
</ParamField>

<ParamField body="amount" type="number" required>
  The total sale amount in the transaction. Must be a positive number.
</ParamField>

<ParamField body="commissionAmount" type="number" required>
  The commission amount to award to the affiliate. Must be a non-negative number (can be 0).
</ParamField>

### Optional Parameters

<ParamField body="amountCurrency" type="string" default="USD">
  The currency code for the sale amount. Must be a 3-letter ISO 4217 currency code (e.g., `USD`, `EUR`, `GBP`). Defaults to `USD`.
</ParamField>

<ParamField body="commissionCurrency" type="string" default="USD">
  The currency code for the commission amount. Must be a 3-letter ISO 4217 currency code (e.g., `USD`, `EUR`, `GBP`). Defaults to `USD`.
</ParamField>

<ParamField body="isSubscription" type="boolean" default="false">
  Whether this commission is for a subscription transaction. Defaults to `false`.
</ParamField>

<ParamField body="status" type="string" default="pending">
  The initial commission status. Valid values: `pending`, `pending_manual_approval`, `ready_for_payment`, `processing_payout`, `paid`, `declined`, `refunded`, `dispute`. Defaults to `pending`.
</ParamField>

<ParamField body="transactionStatus" type="string" default="complete">
  The transaction status. Valid values: `open`, `complete`, `trialing`, `failed`, `refunded`, `partial_refunded`. Defaults to `complete`. If set to `complete`, `userHasPaid` will be automatically set to `true`.
</ParamField>

<ParamField body="paymentIntentId" type="string">
  Optional payment intent ID from your payment processor (e.g., Stripe payment intent ID). If provided, must be unique across all commissions. Used to prevent duplicate commissions for the same payment.
</ParamField>

<ParamField body="holdPeriodDays" type="integer">
  Optional hold period in days before the commission becomes available for payout. Must be a non-negative integer. If not provided, uses the program's default hold period.
</ParamField>

## Response

The response includes the created commission object.

<ResponseField name="id" type="string">
  Unique identifier for the commission
</ResponseField>

<ResponseField name="referralId" type="string">
  The referral ID this commission is associated with
</ResponseField>

<ResponseField name="affiliateId" type="string">
  The affiliate ID who will receive this commission
</ResponseField>

<ResponseField name="programId" type="string">
  The affiliate program ID
</ResponseField>

<ResponseField name="amount" type="number">
  The total sale amount
</ResponseField>

<ResponseField name="amountCurrency" type="string">
  The currency code for the sale amount
</ResponseField>

<ResponseField name="commissionAmount" type="number">
  The commission amount to be paid
</ResponseField>

<ResponseField name="commissionCurrency" type="string">
  The currency code for the commission amount
</ResponseField>

<ResponseField name="status" type="string">
  The commission status (lowercase)
</ResponseField>

<ResponseField name="transactionStatus" type="string">
  The transaction status (lowercase)
</ResponseField>

<ResponseField name="isSubscription" type="boolean">
  Whether this is a subscription transaction
</ResponseField>

<ResponseField name="userHasPaid" type="boolean">
  Whether the user has completed payment for this transaction
</ResponseField>

<ResponseField name="holdPeriodDays" type="integer | null">
  Hold period in days before payout
</ResponseField>

<ResponseField name="paymentIntentId" type="string | null">
  Payment intent ID if provided
</ResponseField>

<ResponseField name="invoiceId" type="string | null">
  Invoice ID if linked to a payout invoice
</ResponseField>

<ResponseField name="createdAt" type="string">
  ISO 8601 timestamp of when the commission was created
</ResponseField>

<ResponseField name="updatedAt" type="string">
  ISO 8601 timestamp of when the commission was last updated
</ResponseField>

## Examples

<Tabs>
  <Tab title="Example">
    <RequestExample>
```bash cURL
curl -X POST "https://api.affonso.io/v1/commissions" \
  -H "Authorization: Bearer sk_live_your_api_key" \
  -H "Content-Type: application/json" \
  -d '{
    "referralId": "ref_456def",
    "amount": 99.00,
    "commissionAmount": 9.90,
    "amountCurrency": "USD",
    "commissionCurrency": "USD",
    "status": "pending",
    "transactionStatus": "complete"
  }'
```
    </RequestExample>

    <ResponseExample>
```json Response
{
  "success": true,
  "data": {
    "id": "com_abc123",
    "referralId": "ref_456def",
    "affiliateId": "aff_789ghi",
    "programId": "prog_123xyz",
    "amount": 99.00,
    "amountCurrency": "USD",
    "commissionAmount": 9.90,
    "commissionCurrency": "USD",
    "status": "pending",
    "transactionStatus": "complete",
    "isSubscription": false,
    "userHasPaid": true,
    "holdPeriodDays": null,
    "paymentIntentId": null,
    "invoiceId": null,
    "createdAt": "2024-01-20T15:30:00Z",
    "updatedAt": "2024-01-20T15:30:00Z"
  }
}
```
    </ResponseExample>
  </Tab>
</Tabs>

